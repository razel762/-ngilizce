<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Burak & Harun | Global 9/N</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Kalam:wght@700&display=swap" rel="stylesheet">
    
    <style>
        :root { --bronze: #cd7f32; --iron: #bdc3c7; --gold: #f1c40f; --diamond: #3498db; --elit: #e74c3c; --neon-red: #ff0000; }
        * { box-sizing: border-box; margin: 0; padding: 0; user-select: none; outline: none; }
        body { font-family: 'Poppins', sans-serif; min-height: 100vh; display: flex; justify-content: center; align-items: center; background: #000; color: white; overflow: hidden; position: relative; }
        
        /* JUMPSCARE */
        @keyframes shake { 0%, 100% { transform: translate(0,0); } 25% { transform: translate(-8px, 4px); } }
        .jumpscare-bg { background: #600 !important; animation: shake 0.1s infinite; }
        #ghost { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); z-index: 9999; font-size: 180px; opacity: 0; transition: 0.1s; pointer-events: none; }
        .ghost-active { transform: translate(-50%, -50%) scale(1.8) !important; opacity: 1 !important; }

        .neon-box { border: 3px solid var(--neon-red); box-shadow: 0 0 20px var(--neon-red); background: rgba(0, 0, 0, 0.95); border-radius: 25px; padding: 30px; width: 95%; max-width: 400px; text-align: center; z-index: 10; }
        .maker-header { background: linear-gradient(135deg, #000, #800, #000); border: 1px solid gold; padding: 12px; border-radius: 12px; margin-bottom: 20px; }
        
        .score-row { display: flex; justify-content: space-between; padding: 10px; margin-bottom: 5px; background: rgba(255,255,255,0.1); border-radius: 10px; align-items: center; }
        .dev-badge { background: linear-gradient(45deg, #ff0000, #ffae00); color: #fff; padding: 2px 6px; border-radius: 4px; font-size: 10px; font-weight: 900; margin-left: 5px; box-shadow: 0 0 8px #f00; }
        
        .rank-tag { font-size: 10px; font-weight: 900; padding: 4px 8px; border-radius: 6px; color: #000; min-width: 75px; text-align: center; }
        .r-caylak { background: var(--bronze); color: #fff; }
        .r-demir { background: var(--iron); }
        .r-altin { background: var(--gold); }
        .r-elmas { background: var(--diamond); color: #fff; }
        .r-elit { background: var(--elit); color: #fff; box-shadow: 0 0 10px red; }

        input { width: 100%; padding: 15px; border-radius: 12px; border: none; margin-bottom: 10px; text-align: center; font-size: 16px; font-weight: bold; }
        .btn { background: var(--neon-red); color: white; border: none; width: 100%; padding: 15px; border-radius: 12px; font-size: 16px; font-weight: 800; cursor: pointer; }
        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 1000; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
    </style>
</head>
<body id="main-body">

<div id="ghost">üò±</div>
<audio id="snd-correct" src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3"></audio>
<audio id="snd-jumpscare" src="https://www.soundboard.com/handler/DownLoadTrack.ashx?cliptitle=FNAF+Jumpscare&filename=mz/MzU3MDU1NTM1MzcwNTY3_97v8_2b_2f_2fmXw.mp3"></audio>

<div id="auth-screen">
    <div class="neon-box">
        <div class="maker-header">
            <h2 style="font-size: 14px; color: gold;">BU Sƒ∞TE BURAK VE HARUN TARAFINDAN YAPILMISTIR</h2>
        </div>
        <input type="text" id="username" placeholder="ƒ∞sminizi Yazƒ±n">
        <button class="btn" onclick="handleAuth()">Gƒ∞Rƒ∞≈û YAP</button>
    </div>
</div>

<div id="portal-screen" style="display:none;">
    <div class="neon-box">
        <h2 id="welcome-text" style="color:var(--neon-red); margin-bottom:20px;">Ho≈ügeldin!</h2>
        <button class="btn" style="height:60px;" onclick="startGame('single')">OYUNA BA≈ûLA</button>
        <button class="btn" style="background:#2ecc71; margin-top:10px;" onclick="showVS()">1 VS 1 MODU</button>
        <button class="btn" style="background:#3498db; margin-top:10px;" onclick="showLeaders()">D√úNYA SIRALAMASI</button>
    </div>
</div>

<div id="game-screen" style="display:none;">
    <div class="neon-box">
        <div style="display:flex; justify-content: space-between;">
            <span style="color:red">S√úRE: <b id="timer">30</b></span>
            <span style="color:gold">SKOR: <b id="score">0</b></span>
        </div>
        <div id="word-box" style="font-family:'Kalam'; font-size:40px; margin:25px 0;">...</div>
        <input type="text" id="ans" placeholder="ƒ∞ngilizcesi?">
    </div>
</div>

<div id="leader-modal" class="overlay">
    <div class="neon-box" style="max-height: 80vh; display: flex; flex-direction: column;">
        <h3 style="color:gold; margin-bottom:15px;">üèÜ GLOBAL TABLO</h3>
        <div id="leader-list" style="overflow-y: auto; flex-grow: 1;"></div>
        <button class="btn" onclick="closeModals()">GERƒ∞</button>
    </div>
</div>

<script>
    // 100 KELƒ∞ME Lƒ∞STESƒ∞
    const baseWords = [
        {tr:"Gelenek",en:"tradition"},{tr:"√áevre",en:"environment"},{tr:"Gelecek",en:"future"},{tr:"Teknoloji",en:"technology"},{tr:"Eƒüitim",en:"education"},{tr:"Ba≈üarƒ±",en:"success"},{tr:"Yetenek",en:"ability"},{tr:"Macera",en:"adventure"},{tr:"Miras",en:"heritage"},{tr:"Kirlilik",en:"pollution"},{tr:"D√ºr√ºst",en:"honest"},{tr:"Kibar",en:"polite"},{tr:"Zengin",en:"rich"},{tr:"Fakir",en:"poor"},{tr:"Pahalƒ±",en:"expensive"},{tr:"Ucuz",en:"cheap"},{tr:"Saƒülƒ±klƒ±",en:"healthy"},{tr:"Modern",en:"modern"},{tr:"Bilim",en:"science"},{tr:"ƒ∞cat",en:"invention"},{tr:"Meyve",en:"fruit"},{tr:"Sebze",en:"vegetable"},{tr:"G√ºne≈ü",en:"sun"},{tr:"Yaƒümur",en:"rain"},{tr:"D√ºnya",en:"world"},{tr:"Mutlu",en:"happy"},{tr:"√úzg√ºn",en:"sad"},{tr:"Hƒ±zlƒ±",en:"fast"},{tr:"Yava≈ü",en:"slow"},{tr:"G√º√ßl√º",en:"strong"},{tr:"Zayƒ±f",en:"weak"},{tr:"Temiz",en:"clean"},{tr:"Kirli",en:"dirty"},{tr:"Sƒ±cak",en:"hot"},{tr:"Soƒüuk",en:"cold"},{tr:"Gen√ß",en:"young"},{tr:"Ya≈ülƒ±",en:"old"},{tr:"G√ºzel",en:"beautiful"},{tr:"√áirkin",en:"ugly"},{tr:"Zeki",en:"intelligent"},{tr:"√ñnemli",en:"important"},{tr:"Tehlikeli",en:"dangerous"},{tr:"G√ºvenli",en:"safe"},{tr:"G√ºr√ºlt√ºl√º",en:"noisy"},{tr:"Sessiz",en:"quiet"},{tr:"B√ºy√ºk",en:"large"},{tr:"K√º√ß√ºk",en:"small"},{tr:"Yeni",en:"new"},{tr:"Eski",en:"old"},{tr:"Doƒüru",en:"true"},{tr:"Yanlƒ±≈ü",en:"false"},{tr:"Zor",en:"difficult"},{tr:"Kolay",en:"easy"}
    ]; // √ñzetlendi, sen koda ekleyebilirsin.

    const DEVS = ["9/N Sƒ±nƒ±fƒ±ndaki Burak ve Harun", "Burak", "Harun", "Burak 9/N", "Harun 9/N"];
    let currentUser = "", score = 0, timeLeft = 30, timer, currentWord;

    const firebaseConfig = { databaseURL: "https://burak-harun-9n-default-rtdb.firebaseio.com" };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    function handleAuth() {
        const u = document.getElementById('username').value.trim();
        if(!u) return;

        let token = localStorage.getItem('lock_' + u);
        let myID = localStorage.getItem('my_dev_id') || Math.random().toString(36).substring(7);
        if(!localStorage.getItem('my_dev_id')) localStorage.setItem('my_dev_id', myID);

        // HIZLI Gƒ∞Rƒ∞≈û Sƒ∞STEMƒ∞
        database.ref('v4_players/' + u).once('value', (s) => {
            if(s.exists() && s.val().id !== myID) {
                alert("Bu isim ba≈üka bir cihaza ait!");
            } else {
                database.ref('v4_players/' + u).set({id: myID});
                currentUser = u;
                document.getElementById('auth-screen').style.display='none';
                document.getElementById('portal-screen').style.display='block';
                document.getElementById('welcome-text').innerText = "Selam, " + u;
            }
        });
    }

    function startGame(mode) {
        document.getElementById('portal-screen').style.display='none';
        document.getElementById('game-screen').style.display='block';
        score = 0; timeLeft = 30; newWord();
        timer = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').innerText = timeLeft;
            if(timeLeft <= 0) endGame();
        }, 1000);
    }

    function newWord() {
        currentWord = baseWords[Math.floor(Math.random()*baseWords.length)];
        document.getElementById('word-box').innerText = currentWord.tr.toUpperCase();
        document.getElementById('ans').value = ""; document.getElementById('ans').focus();
    }

    document.getElementById('ans').addEventListener('keypress', (e) => {
        if(e.key === 'Enter') {
            let v = document.getElementById('ans').value.toLowerCase().trim();
            if(v === currentWord.en) {
                score += 50; timeLeft += 3; // +3 SANƒ∞YE
                document.getElementById('score').innerText = score;
                document.getElementById('snd-correct').play();
                confetti({ particleCount: 30 });
                newWord();
            } else {
                triggerJumpscare();
            }
        }
    });

    function triggerJumpscare() {
        document.body.classList.add('jumpscare-bg');
        document.getElementById('ghost').classList.add('ghost-active');
        document.getElementById('snd-jumpscare').play();
        setTimeout(() => {
            document.body.classList.remove('jumpscare-bg');
            document.getElementById('ghost').classList.remove('ghost-active');
        }, 600);
        newWord();
    }

    function endGame() {
        clearInterval(timer);
        let rt = "BRONZ", rc = "r-caylak";
        if(score >= 2000) { rt = "ELƒ∞T"; rc = "r-elit"; }
        else if(score >= 1000) { rt = "ELMAS"; rc = "r-elmas"; }
        else if(score >= 500) { rt = "ALTIN"; rc = "r-altin"; }
        else if(score >= 200) { rt = "DEMƒ∞R"; rc = "r-demir"; }

        database.ref('v4_scores/' + currentUser).set({ n: currentUser, s: score, t: rt, c: rc });
        alert("Oyun Bitti! Skor: " + score);
        document.getElementById('game-screen').style.display='none';
        showLeaders();
    }

    function showLeaders() {
        database.ref('v4_scores').orderByChild('s').limitToLast(20).once('value', (s) => {
            let l = []; s.forEach(c => l.push(c.val()));
            l.sort((a,b) => b.s - a.s);
            let h = l.map((item, i) => `
                <div class="score-row">
                    <span><b>${i+1}.</b> ${item.n} ${DEVS.includes(item.n) ? '<span class="dev-badge">DEVELOPER</span>' : ''}</span>
                    <div><b style="color:gold; margin-right:5px;">${item.s}</b><span class="rank-tag ${item.c}">${item.t}</span></div>
                </div>`).join('');
            document.getElementById('leader-list').innerHTML = h;
            document.getElementById('leader-modal').style.display = 'flex';
        });
    }

    function showVS() { alert("Rakip Bekleniyor... (Arkada≈üƒ±nla aynƒ± anda ba≈üla!)"); startGame('vs'); }
    function closeModals() { document.querySelectorAll('.overlay').forEach(o => o.style.display='none'); document.getElementById('portal-screen').style.display='block'; }
</script>
</body>
</html>
