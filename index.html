<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BU OYUN 9/N DEKI Burak & Harun TARAFINDAN YAPILMISTIR</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Kalam:wght@700&display=swap" rel="stylesheet">
    
    <style>
        :root { --bronze: #cd7f32; --iron: #bdc3c7; --gold: #f1c40f; --diamond: #3498db; --elit: #e74c3c; --neon-red: #ff0000; }
        * { box-sizing: border-box; margin: 0; padding: 0; user-select: none; outline: none; }
        body { font-family: 'Poppins', sans-serif; min-height: 100vh; display: flex; justify-content: center; align-items: center; background: #000; color: white; overflow: hidden; position: relative; }
        body::before { content: ""; position: absolute; inset: 0; background: radial-gradient(circle, #200000 0%, #000 100%); z-index: -1; }

        /* JUMPSCARE */
        @keyframes shake { 0%, 100% { transform: translate(0,0); } 25% { transform: translate(-8px, 4px); } 50% { transform: translate(8px, -4px); } }
        .jumpscare-bg { background: #600 !important; animation: shake 0.1s infinite; }
        #ghost { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); z-index: 9999; font-size: 180px; opacity: 0; transition: 0.1s; pointer-events: none; }
        .ghost-active { transform: translate(-50%, -50%) scale(1.8) !important; opacity: 1 !important; }

        /* NEON PANEL */
        .neon-box { border: 3px solid var(--neon-red); box-shadow: 0 0 25px var(--neon-red), inset 0 0 10px var(--neon-red); background: rgba(0, 0, 0, 0.95); border-radius: 25px; padding: 30px; width: 95%; max-width: 420px; text-align: center; z-index: 10; position: relative; }
        .maker-header { background: linear-gradient(135deg, #000, #800, #000); border: 2px solid var(--neon-red); padding: 15px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 0 20px rgba(255, 0, 0, 0.5); animation: dev-glow 2s infinite ease-in-out; }
        @keyframes dev-glow { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); box-shadow: 0 0 30px var(--neon-red); } }
        
        /* SIRALAMA */
        .score-row { display: flex; justify-content: space-between; padding: 12px; margin-bottom: 8px; background: rgba(255,255,255,0.07); border-radius: 12px; align-items: center; border-left: 5px solid var(--neon-red); }
        .dev-badge { background: linear-gradient(45deg, #ff0000, #ffae00); color: #fff; padding: 3px 8px; border-radius: 5px; font-size: 10px; font-weight: 900; margin-left: 8px; box-shadow: 0 0 10px #f00; animation: pulse 1s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        
        .rank-tag { font-size: 10px; font-weight: 900; padding: 5px 10px; border-radius: 8px; color: #000; min-width: 85px; text-align: center; }
        .r-caylak { background: var(--bronze); color: white; }
        .r-demir { background: var(--iron); }
        .r-altin { background: var(--gold); }
        .r-elmas { background: var(--diamond); color: white; }
        .r-elit { background: var(--elit); color: white; box-shadow: 0 0 15px var(--elit); }

        input { width: 100%; padding: 15px; border-radius: 12px; border: none; margin-bottom: 15px; text-align: center; font-weight: bold; background: #fff; color: #000; font-size: 16px; }
        .btn { background: #6c5ce7; color: white; border: none; width: 100%; padding: 15px; border-radius: 12px; font-size: 16px; font-weight: 800; cursor: pointer; transition: 0.3s; margin-top: 5px; }
        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 1000; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
    </style>
</head>
<body id="main-body">

<div id="ghost">üëª</div>
<audio id="snd-correct" src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3"></audio>
<audio id="snd-jumpscare" src="https://www.soundboard.com/handler/DownLoadTrack.ashx?cliptitle=FNAF+Jumpscare&filename=mz/MzU3MDU1NTM1MzcwNTY3_97v8_2b_2f_2fmXw.mp3"></audio>

<div id="auth-screen">
    <div class="neon-box">
        <div class="maker-header">
            <h2 style="font-size: 14px; color: gold;">BU Sƒ∞TE BURAK VE HARUN TARAFINDAN YAPILMISTIR</h2>
        </div>
        <input type="text" id="username" placeholder="Kullanƒ±cƒ± Adƒ±">
        <button class="btn" style="background:var(--neon-red)" onclick="handleAuth()">Gƒ∞Rƒ∞≈û YAP</button>
    </div>
</div>

<div id="portal-screen" style="display:none;">
    <div class="neon-box">
        <h2 id="welcome-text" style="color:var(--neon-red); margin-bottom:20px;">Ho≈ügeldin!</h2>
        <button class="btn" style="height:60px;" onclick="startGame('single')">TEKLƒ∞ OYUN</button>
        <button class="btn" style="background:#2ecc71;" onclick="showVSModal()">1 VS 1 MODU</button>
        <button class="btn" style="background:#3498db;" onclick="showLeaders()">D√úNYA SIRALAMASI</button>
    </div>
</div>

<div id="vs-modal" class="overlay">
    <div class="neon-box">
        <h3>RAKƒ∞P ƒ∞SMƒ∞ Gƒ∞R</h3>
        <input type="text" id="vs-opponent" placeholder="Rakip Adƒ±">
        <button class="btn" onclick="startGame('vs')">BA≈ûLAT</button>
        <button class="btn" style="background:gray" onclick="closeModals()">ƒ∞PTAL</button>
    </div>
</div>

<div id="game-screen" style="display:none;">
    <div class="neon-box">
        <div style="display:flex; justify-content: space-between; font-weight: 800;">
            <span style="color:red">S√úRE: <b id="timer">30</b></span>
            <span style="color:gold">SKOR: <b id="score">0</b></span>
        </div>
        <div id="vs-info" style="font-size:12px; margin-top:5px; color:cyan"></div>
        <div id="word-box" style="font-family:'Kalam'; font-size:45px; margin:30px 0; text-shadow: 0 0 10px red;">...</div>
        <input type="text" id="ans" placeholder="ƒ∞ngilizcesi?">
    </div>
</div>

<div id="leader-modal" class="overlay">
    <div class="neon-box" style="max-height: 85vh; display: flex; flex-direction: column;">
        <h3 style="color:gold; margin-bottom:15px;">üèÜ GLOBAL CANLI TABLO</h3>
        <div id="leader-list" style="overflow-y: auto; flex-grow: 1;"></div>
        <button class="btn" onclick="closeModals()">ANA MEN√ú</button>
    </div>
</div>

<script>
    // --- 100 KELƒ∞ME ---
    const baseWords = [
        {tr:"Gelenek",en:"tradition"},{tr:"√áevre",en:"environment"},{tr:"Gelecek",en:"future"},{tr:"Teknoloji",en:"technology"},{tr:"Eƒüitim",en:"education"},{tr:"Ba≈üarƒ±",en:"success"},{tr:"Yetenek",en:"ability"},{tr:"Macera",en:"adventure"},{tr:"Miras",en:"heritage"},{tr:"Kirlilik",en:"pollution"},{tr:"D√ºr√ºst",en:"honest"},{tr:"C√∂mert",en:"generous"},{tr:"ƒ∞nat√ßƒ±",en:"stubborn"},{tr:"Kibar",en:"polite"},{tr:"Vah≈üi Ya≈üam",en:"wildlife"},{tr:"ƒ∞leti≈üim",en:"communication"},{tr:"Geli≈üim",en:"improvement"},{tr:"Nesli T√ºkenmek",en:"extinct"},{tr:"Ke≈üfetmek",en:"explore"},{tr:"Geri D√∂n√º≈ü√ºm",en:"recycle"},{tr:"Saƒülƒ±klƒ±",en:"healthy"},{tr:"Deneyim",en:"experience"},{tr:"√ñnemli",en:"important"},{tr:"Farklƒ±",en:"different"},{tr:"Hava Durumu",en:"weather"},{tr:"Mevsim",en:"season"},{tr:"Bilim",en:"science"},{tr:"ƒ∞cat",en:"invention"},{tr:"Karakter",en:"character"},{tr:"Karar",en:"decision"},{tr:"Meslek",en:"job"},{tr:"Harika",en:"wonderful"},{tr:"Korkun√ß",en:"terrible"},{tr:"Ula≈üƒ±m",en:"transport"},{tr:"Zeki",en:"intelligent"},{tr:"Ciddi",en:"serious"},{tr:"Eƒülenceli",en:"funny"},{tr:"Utanga√ß",en:"shy"},{tr:"Sabƒ±rlƒ±",en:"patient"},{tr:"G√ºvenli",en:"safe"},{tr:"Tehlikeli",en:"dangerous"},{tr:"Hƒ±zlƒ±",en:"fast"},{tr:"Yava≈ü",en:"slow"},{tr:"G√º√ßl√º",en:"strong"},{tr:"Zayƒ±f",en:"weak"},{tr:"Mutlu",en:"happy"},{tr:"√úzg√ºn",en:"sad"},{tr:"Sinirli",en:"angry"},{tr:"Yorgun",en:"tired"},{tr:"A√ß",en:"hungry"},{tr:"Susuz",en:"thirsty"},{tr:"B√ºy√ºk",en:"large"},{tr:"K√º√ß√ºk",en:"small"},{tr:"Pahalƒ±",en:"expensive"},{tr:"Ucuz",en:"cheap"},{tr:"Zengin",en:"rich"},{tr:"Fakir",en:"poor"},{tr:"Temiz",en:"clean"},{tr:"Kirli",en:"dirty"},{tr:"Sƒ±cak",en:"hot"},{tr:"Soƒüuk",en:"cold"},{tr:"Kolay",en:"easy"},{tr:"Zor",en:"difficult"},{tr:"Gen√ß",en:"young"},{tr:"Ya≈ülƒ±",en:"old"},{tr:"Yeni",en:"new"},{tr:"Doƒüru",en:"true"},{tr:"Yanlƒ±≈ü",en:"false"},{tr:"G√ºzel",en:"beautiful"},{tr:"√áirkin",en:"ugly"},{tr:"G√ºr√ºlt√ºl√º",en:"noisy"},{tr:"Sessiz",en:"quiet"},{tr:"Y√ºksek",en:"high"},{tr:"Al√ßak",en:"low"},{tr:"Parlak",en:"bright"},{tr:"Karanlƒ±k",en:"dark"},{tr:"M√ºkemmel",en:"perfect"},{tr:"ƒ∞mkansƒ±z",en:"impossible"},{tr:"M√ºmk√ºn",en:"possible"},{tr:"√únl√º",en:"famous"},{tr:"Yabancƒ±",en:"foreign"},{tr:"Modern",en:"modern"},{tr:"Antik",en:"ancient"},{tr:"√ñzel",en:"special"},{tr:"Gerekli",en:"necessary"},{tr:"Faydalƒ±",en:"useful"},{tr:"Zararlƒ±",en:"harmful"},{tr:"Meyve",en:"fruit"},{tr:"Sebze",en:"vegetable"},{tr:"Mutfak",en:"kitchen"},{tr:"Banyo",en:"bathroom"},{tr:"Bah√ße",en:"garden"},{tr:"G√ºne≈ü",en:"sun"},{tr:"Bulut",en:"cloud"},{tr:"Yaƒümur",en:"rain"},{tr:"Kar",en:"snow"},{tr:"≈ûehir",en:"city"},{tr:"K√∂y",en:"village"},{tr:"Hayat",en:"life"},{tr:"D√ºnya",en:"world"}
    ];

    const DEVS = ["9/N Sƒ±nƒ±fƒ±ndaki Burak ve Harun", "Burak", "Harun", "Burak 9/N", "Harun 9/N"];
    let currentUser = "", score = 0, timeLeft = 30, timer, currentWord, gameMode = "single", vsOpp = "";

    // FIREBASE
    const firebaseConfig = { databaseURL: "https://burak-harun-9n-default-rtdb.firebaseio.com" };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    function handleAuth() {
        const u = document.getElementById('username').value.trim();
        if(!u) return;
        
        // Cƒ∞HAZ Kƒ∞Lƒ∞Dƒ∞ (Kayƒ±t Sistemi)
        let token = localStorage.getItem('u_token') || Math.random().toString(36).substring(7);
        if(!localStorage.getItem('u_token')) localStorage.setItem('u_token', token);
        
        database.ref('players/' + u).once('value', (s) => {
            if(s.exists() && s.val().id !== token) {
                alert("Bu hesap ba≈üka bir cihaza ait!");
            } else {
                database.ref('players/' + u).set({id: token});
                currentUser = u;
                document.getElementById('auth-screen').style.display='none';
                document.getElementById('portal-screen').style.display='block';
                document.getElementById('welcome-text').innerText = "Selam, " + u;
            }
        });
    }

    function startGame(mode) {
        gameMode = mode;
        if(mode === 'vs') {
            vsOpp = document.getElementById('vs-opponent').value.trim();
            if(!vsOpp) return;
            document.getElementById('vs-info').innerText = currentUser + " VS " + vsOpp;
        } else {
            document.getElementById('vs-info').innerText = "";
        }
        closeModals();
        document.getElementById('portal-screen').style.display='none';
        document.getElementById('game-screen').style.display='block';
        score = 0; timeLeft = 30; newWord();
        timer = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').innerText = timeLeft;
            if(timeLeft <= 0) endGame();
        }, 1000);
    }

    function newWord() {
        currentWord = baseWords[Math.floor(Math.random()*baseWords.length)];
        document.getElementById('word-box').innerText = currentWord.tr.toUpperCase();
        document.getElementById('ans').value = ""; document.getElementById('ans').focus();
    }

    document.getElementById('ans').addEventListener('keypress', (e) => {
        if(e.key === 'Enter') {
            let v = document.getElementById('ans').value.toLowerCase().trim();
            if(v === currentWord.en) {
                score += 50; timeLeft += 3; // +3 SANƒ∞YE
                document.getElementById('score').innerText = score;
                document.getElementById('snd-correct').play();
                confetti({ particleCount: 30 });
                newWord();
            } else {
                triggerJumpscare(); // Yanlƒ±≈üta kelime deƒüi≈üir ve jumpscare tetiklenir
            }
        }
    });

    function triggerJumpscare() {
        document.body.classList.add('jumpscare-bg');
        document.getElementById('ghost').classList.add('ghost-active');
        document.getElementById('snd-jumpscare').play();
        setTimeout(() => {
            document.body.classList.remove('jumpscare-bg');
            document.getElementById('ghost').classList.remove('ghost-active');
        }, 600);
        newWord();
    }

    function endGame() {
        clearInterval(timer);
        let rt = "BRONZ", rc = "r-caylak";
        if(score >= 2000) { rt = "ELƒ∞T"; rc = "r-elit"; }
        else if(score >= 1000) { rt = "ELMAS"; rc = "r-elmas"; }
        else if(score >= 500) { rt = "ALTIN"; rc = "r-altin"; }
        else if(score >= 200) { rt = "DEMƒ∞R"; rc = "r-demir"; }

        database.ref('global_v3/' + currentUser).set({ n: currentUser, s: score, t: rt, c: rc });
        alert("Oyun Bitti! Skor: " + score);
        document.getElementById('game-screen').style.display='none';
        showLeaders();
    }

    function showLeaders() {
        database.ref('global_v3').orderByChild('s').limitToLast(20).once('value', (s) => {
            let l = []; s.forEach(c => l.push(c.val()));
            l.sort((a,b) => b.s - a.s);
            let h = l.map((item, i) => `
                <div class="score-row">
                    <span><b>${i+1}.</b> ${item.n} ${DEVS.includes(item.n) ? '<span class="dev-badge">DEVELOPER</span>' : ''}</span>
                    <div><b style="color:gold; margin-right:5px;">${item.s}</b><span class="rank-tag ${item.c}">${item.t}</span></div>
                </div>`).join('');
            document.getElementById('leader-list').innerHTML = h || "Kayƒ±t yok.";
            document.getElementById('leader-modal').style.display = 'flex';
        });
    }

    function showVSModal() { document.getElementById('vs-modal').style.display='flex'; }
    function closeModals() { document.querySelectorAll('.overlay').forEach(o => o.style.display='none'); }
</script>
</body>
</html>
