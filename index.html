<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bu Oyun 9/N Deki Burak & Harun TarafÄ±ndan GeliÅŸtirildi</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Kalam:wght@700&display=swap" rel="stylesheet">
    
    <style>
        :root { 
            --bronze: #cd7f32; --iron: #bdc3c7; --gold: #f1c40f; 
            --diamond: #3498db; --elit: #e74c3c; --neon-red: #ff0000; 
        }
        * { box-sizing: border-box; margin: 0; padding: 0; user-select: none; }
        body { font-family: 'Poppins', sans-serif; min-height: 100vh; display: flex; justify-content: center; align-items: center; background: #000; overflow: hidden; color: white; position: relative; }
        body::before { content: ""; position: absolute; width: 100%; height: 100%; background: radial-gradient(circle, #200000 0%, #000 100%); z-index: -1; }

        /* JUMPSCARE */
        @keyframes shake { 0%, 100% { transform: translate(0,0); } 25% { transform: translate(-4px, 2px); } 50% { transform: translate(4px, -2px); } }
        .jumpscare-bg { background: #600 !important; animation: shake 0.1s infinite; }
        #ghost { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0); z-index: 9999; font-size: 200px; transition: 0.1s; pointer-events: none; opacity: 0; }
        .ghost-active { transform: translate(-50%, -50%) scale(1.5) !important; opacity: 0.8 !important; }

        /* NEON TASARIM */
        .neon-box { border: 3px solid var(--neon-red); box-shadow: 0 0 20px var(--neon-red), inset 0 0 10px var(--neon-red); background: rgba(0, 0, 0, 0.95); border-radius: 25px; padding: 25px; width: 100%; max-width: 420px; text-align: center; position: relative; z-index: 10; }
        .maker-header { background: linear-gradient(135deg, #000, #600, #000); border: 2px solid var(--neon-red); padding: 15px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 0 25px rgba(255, 0, 0, 0.6); animation: glow 2s infinite ease-in-out; }
        @keyframes glow { 0%, 100% { box-shadow: 0 0 15px var(--neon-red); } 50% { box-shadow: 0 0 35px var(--neon-red); } }
        
        .bubble { position: absolute; bottom: -50px; background: rgba(255, 0, 0, 0.15); border-radius: 50%; animation: rise 8s infinite ease-in; z-index: 1; }
        @keyframes rise { 0% { transform: translateY(0) scale(1); opacity: 0; } 50% { opacity: 0.4; } 100% { transform: translateY(-110vh) scale(1.5); opacity: 0; } }

        /* SIRALAMA */
        .score-row { display: flex; justify-content: space-between; padding: 12px; margin-bottom: 8px; background: rgba(255,0,0,0.1); border-radius: 12px; align-items: center; border: 1px solid rgba(255,0,0,0.3); }
        .dev-badge { background: linear-gradient(45deg, #ff0000, #ffae00); color: white; padding: 3px 8px; border-radius: 5px; font-size: 10px; font-weight: 900; margin-left: 8px; box-shadow: 0 0 10px #f00; }
        
        .rank-tag { font-size: 10px; font-weight: 900; padding: 5px 10px; border-radius: 8px; color: #000; min-width: 85px; text-align: center; }
        .r-caylak { background: var(--bronze); color: white; }
        .r-demir { background: var(--iron); }
        .r-altin { background: var(--gold); }
        .r-elmas { background: var(--diamond); color: white; }
        .r-elit { background: var(--elit); color: white; box-shadow: 0 0 15px var(--elit); }

        input { width: 100%; padding: 14px; border-radius: 12px; border: none; margin-bottom: 12px; text-align: center; font-weight: bold; background: #fff; color: #000; outline: none; }
        .btn { background: #6c5ce7; color: white; border: none; width: 100%; padding: 14px; border-radius: 12px; font-size: 16px; font-weight: 800; cursor: pointer; transition: 0.3s; margin-top: 5px; }
        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 1000; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
    </style>
</head>
<body id="main-body" oncontextmenu="return false;">

<div id="ghost">ğŸ‘»</div>
<audio id="snd-jumpscare" src="https://www.soundboard.com/handler/DownLoadTrack.ashx?cliptitle=FNAF+Jumpscare&filename=mz/MzU3MDU1NTM1MzcwNTY3_97v8_2b_2f_2fmXw.mp3"></audio>

<div id="auth-screen">
    <div class="neon-box">
        <div class="maker-header">
            <p style="font-size: 13px; font-weight: 800; color: #fff; line-height: 1.5; text-transform: uppercase;">
                BU OYUN 9/N DEKÄ° BURAK VE HARUN TARAFINDAN YAPILMISTUR
            </p>
        </div>
        <input type="text" id="username" placeholder="Ä°sminizi YazÄ±n...">
        <button class="btn" style="background:var(--neon-red)" onclick="handleAuth()">GÄ°RÄ°Å YAP</button>
    </div>
</div>

<div id="portal-screen" style="display:none;">
    <div class="neon-box">
        <h3 id="welcome-text" style="margin-bottom:20px; color: var(--neon-red); font-size: 24px;">HoÅŸgeldin!</h3>
        <button class="btn" style="background:var(--neon-red); height: 60px;" onclick="startSingleGame()">OYUNA BAÅLA</button>
        <button class="btn" style="background:#3498db;" onclick="showLeaders()">DÃœNYA SIRALAMASI</button>
        <div style="margin-top:15px;">
            <input type="text" id="opp-name" placeholder="Rakip Ä°smi">
            <button class="btn" style="background:#2ecc71;" onclick="startVS()">VS MODU BAÅLAT</button>
        </div>
    </div>
</div>

<div id="game-screen" style="display:none;">
    <div class="neon-box">
        <div style="display:flex; justify-content: space-between; margin-bottom:20px;">
            <span style="color:#ff4757; font-weight:800;">SÃœRE: <b id="timer">30</b></span>
            <span style="color:#f1c40f; font-weight:800;">SKOR: <b id="score">0</b></span>
        </div>
        <div id="word-box" style="font-family:'Kalam'; font-size:40px; margin:20px 0; color: #fff; text-shadow: 0 0 10px #f00;">...</div>
        <input type="text" id="ans" placeholder="Ä°ngilizcesi?">
    </div>
</div>

<div id="leader-modal" class="overlay">
    <div class="neon-box">
        <div class="maker-header" style="padding: 10px; margin-bottom: 10px;">
            <p style="font-size: 12px; color: #fff;">DEVELOPER: 9/N BURAK & HARUN</p>
        </div>
        <h3 style="color:var(--gold); margin-bottom:15px;">ğŸ† GLOBAL LÄ°DERLER</h3>
        <div id="leader-list" style="max-height: 350px; overflow-y: auto;"></div>
        <button class="btn" onclick="closeModals()">ANA MENÃœ</button>
    </div>
</div>

<script>
    // --- KONFÄ°GÃœRASYON ---
    const DEVS = ["9/N SÄ±nÄ±fÄ±ndaki Burak ve Harun", "Burak", "Harun", "Burak 9/N", "Harun 9/N"];
    
    // --- 100 KELÄ°MELÄ°K TAM LÄ°STE ---
    const baseWords = [
        {tr:"Gelenek",en:"tradition"},{tr:"Ã‡evre",en:"environment"},{tr:"Gelecek",en:"future"},{tr:"Teknoloji",en:"technology"},
        {tr:"EÄŸitim",en:"education"},{tr:"BaÅŸarÄ±",en:"success"},{tr:"Yetenek",en:"ability"},{tr:"Macera",en:"adventure"},
        {tr:"Miras",en:"heritage"},{tr:"Kirlilik",en:"pollution"},{tr:"KÃ¼resel IsÄ±nma",en:"global warming"},{tr:"DÃ¼rÃ¼st",en:"honest"},
        {tr:"CÃ¶mert",en:"generous"},{tr:"Ä°natÃ§Ä±",en:"stubborn"},{tr:"Kibar",en:"polite"},{tr:"VahÅŸi YaÅŸam",en:"wildlife"},
        {tr:"Ä°letiÅŸim",en:"communication"},{tr:"GeliÅŸim",en:"improvement"},{tr:"Nesli TÃ¼kenmek",en:"extinct"},{tr:"KeÅŸfetmek",en:"explore"},
        {tr:"Halk OyunlarÄ±",en:"folk dance"},{tr:"Geri DÃ¶nÃ¼ÅŸÃ¼m",en:"recycle"},{tr:"SaÄŸlÄ±klÄ±",en:"healthy"},{tr:"Deneyim",en:"experience"},
        {tr:"Ã–nemli",en:"important"},{tr:"FarklÄ±",en:"different"},{tr:"KÄ±yafet",en:"clothes"},{tr:"Hava Durumu",en:"weather"},
        {tr:"Mevsim",en:"season"},{tr:"Tatil",en:"holiday"},{tr:"Bilim",en:"science"},{tr:"Ä°cat",en:"invention"},
        {tr:"Zevk",en:"enjoyment"},{tr:"Karakter",en:"character"},{tr:"DÃ¼ÅŸÃ¼nce",en:"thought"},{tr:"Karar",en:"decision"},
        {tr:"Meslek",en:"job"},{tr:"Harika",en:"wonderful"},{tr:"KorkunÃ§",en:"terrible"},{tr:"UlaÅŸÄ±m",en:"transport"},
        {tr:"Becerikli",en:"skilful"},{tr:"Kaba",en:"rude"},{tr:"Zeki",en:"intelligent"},{tr:"Ciddi",en:"serious"},
        {tr:"EÄŸlenceli",en:"funny"},{tr:"UtangaÃ§",en:"shy"},{tr:"SabÄ±rlÄ±",en:"patient"},{tr:"Dikkatsiz",en:"careless"},
        {tr:"GÃ¼venli",en:"safe"},{tr:"Tehlikeli",en:"dangerous"},{tr:"HÄ±zlÄ±",en:"fast"},{tr:"YavaÅŸ",en:"slow"},
        {tr:"GÃ¼Ã§lÃ¼",en:"strong"},{tr:"ZayÄ±f",en:"weak"},{tr:"Mutlu",en:"happy"},{tr:"ÃœzgÃ¼n",en:"sad"},
        {tr:"Sinirli",en:"angry"},{tr:"Yorgun",en:"tired"},{tr:"AÃ§",en:"hungry"},{tr:"Susuz",en:"thirsty"},
        {tr:"BÃ¼yÃ¼k",en:"large"},{tr:"KÃ¼Ã§Ã¼k",en:"small"},{tr:"GeniÅŸ",en:"wide"},{tr:"Dar",en:"narrow"},
        {tr:"PahalÄ±",en:"expensive"},{tr:"Ucuz",en:"cheap"},{tr:"Zengin",en:"rich"},{tr:"Fakir",en:"poor"},
        {tr:"Temiz",en:"clean"},{tr:"Kirli",en:"dirty"},{tr:"SÄ±cak",en:"hot"},{tr:"SoÄŸuk",en:"cold"},
        {tr:"Kolay",en:"easy"},{tr:"Zor",en:"difficult"},{tr:"GenÃ§",en:"young"},{tr:"YaÅŸlÄ±",en:"old"},
        {tr:"Yeni",en:"new"},{tr:"Eski",en:"old"},{tr:"DoÄŸru",en:"true"},{tr:"YanlÄ±ÅŸ",en:"false"},
        {tr:"GÃ¼zel",en:"beautiful"},{tr:"Ã‡irkin",en:"ugly"},{tr:"GÃ¼rÃ¼ltÃ¼lÃ¼",en:"noisy"},{tr:"Sessiz",en:"quiet"},
        {tr:"YÃ¼ksek",en:"high"},{tr:"AlÃ§ak",en:"low"},{tr:"Parlak",en:"bright"},{tr:"KaranlÄ±k",en:"dark"},
        {tr:"MÃ¼kemmel",en:"perfect"},{tr:"Ä°mkansÄ±z",en:"impossible"},{tr:"MÃ¼mkÃ¼n",en:"possible"},{tr:"ÃœnlÃ¼",en:"famous"},
        {tr:"YabancÄ±",en:"foreign"},{tr:"Modern",en:"modern"},{tr:"Antik",en:"ancient"},{tr:"Ã–zel",en:"special"},
        {tr:"SÄ±radan",en:"ordinary"},{tr:"Gerekli",en:"necessary"},{tr:"FaydalÄ±",en:"useful"},{tr:"ZararlÄ±",en:"harmful"}
    ];

    let currentUser = "", score = 0, timeLeft = 30, timer, currentWord;

    // FIREBASE (CANLI TABLO)
    const firebaseConfig = { databaseURL: "https://burak-harun-9n-default-rtdb.firebaseio.com" };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    function handleAuth() {
        const u = document.getElementById('username').value.trim();
        if(!u) return;
        currentUser = u;
        document.getElementById('auth-screen').style.display='none';
        document.getElementById('portal-screen').style.display='block';
        document.getElementById('welcome-text').innerText = `Selam, ${u}!`;
        createBubbles();
    }

    function createBubbles() {
        for(let i=0; i<15; i++) {
            let b = document.createElement("div"); b.className = "bubble";
            let size = Math.random() * 20 + 10 + "px"; b.style.width = size;
            b.style.left = Math.random() * 100 + "vw"; b.style.animationDuration = Math.random() * 5 + 5 + "s";
            document.body.appendChild(b);
        }
    }

    function startSingleGame() {
        document.getElementById('portal-screen').style.display = 'none';
        document.getElementById('game-screen').style.display = 'block';
        score = 0; timeLeft = 30; document.getElementById('score').innerText = "0";
        newWord();
        timer = setInterval(() => {
            timeLeft--; document.getElementById('timer').innerText = timeLeft;
            if(timeLeft <= 0) { clearInterval(timer); saveScore(); }
        }, 1000);
    }

    function newWord() {
        currentWord = baseWords[Math.floor(Math.random()*baseWords.length)];
        document.getElementById('word-box').innerText = currentWord.tr.toUpperCase();
        document.getElementById('ans').value = ""; document.getElementById('ans').focus();
    }

    document.getElementById('ans').addEventListener('keypress', e => {
        if(e.key === 'Enter') {
            if(document.getElementById('ans').value.toLowerCase().trim() === currentWord.en) {
                score += 50; timeLeft += 2; document.getElementById('score').innerText = score;
                confetti({particleCount: 40, spread: 70, origin: {y: 0.6}}); newWord();
            } else { triggerJumpscare(); }
        }
    });

    function triggerJumpscare() {
        document.getElementById('main-body').classList.add('jumpscare-bg');
        document.getElementById('ghost').classList.add('ghost-active');
        document.getElementById('snd-jumpscare').play();
        setTimeout(() => { 
            document.getElementById('main-body').classList.remove('jumpscare-bg'); 
            document.getElementById('ghost').classList.remove('ghost-active'); 
        }, 650);
        newWord();
    }

    function saveScore() {
        let r_t = "BRONZ", r_c = "r-caylak";
        if(score >= 2000) { r_t = "ELÄ°T"; r_c = "r-elit"; }
        else if(score >= 1000) { r_t = "ELMAS"; r_c = "r-elmas"; }
        else if(score >= 500) { r_t = "ALTIN"; r_c = "r-altin"; }
        else if(score >= 200) { r_t = "DEMÄ°R"; r_c = "r-demir"; }

        database.ref('global_scores/' + currentUser).set({ n: currentUser, s: score, t: r_t, c: r_c });
        alert("Oyun Bitti! Skorun: " + score);
        document.getElementById('game-screen').style.display = 'none';
        showLeaders();
    }

    function showLeaders() {
        database.ref('global_scores').orderByChild('s').limitToLast(30).once('value', (snap) => {
            let list = [];
            snap.forEach(c => { list.push(c.val()); });
            list.reverse();
            let h = list.map((item, i) => `
                <div class="score-row">
                    <span><b>${i+1}.</b> ${item.n} ${DEVS.includes(item.n) ? '<span class="dev-badge">DEVELOPER</span>' : ''}</span>
                    <div style="display:flex; align-items:center; gap:8px;">
                        <span style="color:var(--gold); font-weight:bold;">${item.s}</span>
                        <span class="rank-tag ${item.c}">${item.t}</span>
                    </div>
                </div>`).join('');
            document.getElementById('leader-list').innerHTML = h || "Skor yok.";
            document.getElementById('leader-modal').style.display = 'flex';
        });
    }

    function closeModals() {
        document.querySelectorAll('.overlay').forEach(o => o.style.display = 'none');
        document.getElementById('portal-screen').style.display = 'block';
    }
</script>
</body>
</html>
