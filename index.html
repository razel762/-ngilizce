<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>9. Sƒ±nƒ±f ƒ∞ngilizce - Modern Turnuva</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Kalam:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #a29bfe; --gold: #ffeaa7; --success: #55efc4; --danger: #ff7675; --glass: rgba(255, 255, 255, 0.1); }
        * { box-sizing: border-box; margin: 0; padding: 0; user-select: none; } /* Yazƒ± se√ßimini engeller */

        body { 
            font-family: 'Poppins', sans-serif; 
            height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            background: linear-gradient(rgba(45, 52, 54, 0.8), rgba(45, 52, 54, 0.8)), 
                        url('https://images.unsplash.com/photo-1509062522246-3755977927d7?auto=format&fit=crop&w=1200&q=80'); 
            background-size: cover; 
            background-position: center; 
            color: white; 
            overflow: hidden; 
            padding: 15px;
        }
        
        .game-card { 
            background: rgba(255, 255, 255, 0.05); 
            backdrop-filter: blur(15px); 
            -webkit-backdrop-filter: blur(15px);
            width: 100%; 
            max-width: 420px; 
            border-radius: 40px; 
            padding: 30px; 
            text-align: center; 
            border: 1px solid rgba(255, 255, 255, 0.15); 
            box-shadow: 0 30px 60px rgba(0,0,0,0.5); 
            position: relative; 
            z-index: 10;
        }

        .stats { display: flex; width: 100%; justify-content: space-between; margin-bottom: 20px; gap: 15px; }
        .stat-box { 
            flex: 1;
            background: rgba(0, 0, 0, 0.4); 
            padding: 12px; 
            border-radius: 20px; 
            font-weight: 800; 
            color: #81ecec; 
            border: 1px solid rgba(129, 236, 236, 0.3); 
            font-size: 18px; 
        }
        
        #reaction-box { height: 40px; font-size: 22px; font-weight: 800; margin-bottom: 5px; text-transform: uppercase; }
        .success-msg { color: var(--success); }
        .fail-msg { color: var(--danger); }

        #word-box { font-family: 'Kalam', cursive; font-size: 45px; color: #fab1a0; margin-bottom: 25px; display: block; }

        input { 
            width: 100%; padding: 20px; border-radius: 25px; border: 2px solid rgba(255, 255, 255, 0.1); 
            font-size: 22px; text-align: center; margin-bottom: 15px; outline: none; 
            background: rgba(255, 255, 255, 0.9); color: #2d3436; user-select: text !important;
        }

        .btn { 
            background: var(--primary); color: white; border: none; width: 100%; padding: 20px; 
            border-radius: 25px; font-size: 20px; font-weight: 800; cursor: pointer; 
            text-transform: uppercase; transition: 0.3s;
        }

        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 100; flex-direction: column; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(10px); }
        .modal { background: #2d3436; width: 100%; max-width: 420px; border-radius: 40px; padding: 35px; border: 1px solid rgba(255,255,255,0.1); text-align: center; max-height: 85vh; display: flex; flex-direction: column; }
        
        #leader-list { overflow-y: auto; margin: 20px 0; padding-right: 10px; flex-grow: 1; }
        .score-row { display: flex; justify-content: space-between; padding: 12px 15px; margin-bottom: 8px; background: rgba(255,255,255,0.05); border-radius: 15px; }

        #ghost-x { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 250px; color: var(--danger); pointer-events: none; z-index: 999; opacity: 0; display: none; }
        .ghost-animate { display: block !important; animation: ghostPop 0.5s ease-out forwards; }
        @keyframes ghostPop { 0% { scale: 0.5; opacity: 0; } 50% { scale: 1.2; opacity: 0.8; } 100% { scale: 2; opacity: 0; } }
    </style>
</head>
<body oncontextmenu="return false;"> <div id="ghost-x"><i class="fa-solid fa-xmark"></i></div>

<div id="name-modal" class="overlay">
    <div class="modal">
        <h2 style="color:var(--primary); margin:0;">ZAMAN T√úKENDƒ∞!</h2>
        <div id="final-score" style="font-size: 60px; font-weight: 800; color: #fff; margin: 10px 0;"></div>
        <div id="rank-msg" style="margin-bottom: 25px; color: var(--gold); font-size: 18px;"></div>
        <input type="text" id="player-name" placeholder="Efsanevi Adƒ±n..." maxlength="12">
        <button class="btn" onclick="save()">PUANI KAYDET</button>
    </div>
</div>

<div id="leader-modal" class="overlay">
    <div class="modal">
        <h2 style="color:var(--gold); margin-top:0;">üèÜ EN ƒ∞Yƒ∞ 100</h2>
        <div id="leader-list"></div>
        <button class="btn" style="background:var(--danger);" onclick="restart()">TEKRAR DENE üîÑ</button>
    </div>
</div>

<div class="game-card">
    <div id="reaction-box"></div>
    <div class="stats">
        <div class="stat-box"><i class="fa-solid fa-clock"></i> <span id="timer">30</span>s</div>
        <div class="stat-box"><i class="fa-solid fa-bolt"></i> <span id="score">0</span></div>
    </div>
    <div id="word-box">READY?</div>
    <input type="text" id="ans" placeholder="Hƒ±zƒ±nƒ± konu≈ütur! ‚ö°" autocomplete="off">
    <button id="main-btn" class="btn" onclick="check()">MACERAYI BA≈ûLAT üöÄ</button>
</div>

<script>
    // --- KORUMA Sƒ∞STEMƒ∞ ---
    document.onkeydown = function(e) {
        // F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U engelleme
        if(e.keyCode == 123 || (e.ctrlKey && (e.shiftKey && (e.keyCode == 73 || e.keyCode == 74)) || e.keyCode == 85)) {
            alert("√úzg√ºn√ºm, kodlar gizlidir! üòâ");
            return false;
        }
    };

    // --- OYUN MANTIƒûI ---
    const wordList = [
        {tr:"Yurt dƒ±≈üƒ±", en:"abroad"}, {tr:"G√∂r√ºn√º≈ü", en:"appearance"}, {tr:"Ki≈üilik", en:"personality"},
        {tr:"C√ºzdan", en:"wallet"}, {tr:"S√∂zl√ºk", en:"dictionary"}, {tr:"G√∂kdelen", en:"skyscraper"},
        {tr:"K√∂y", en:"village"}, {tr:"≈ûehir", en:"city"}, {tr:"D√ºr√ºst", en:"honest"},
        {tr:"Kibar", en:"polite"}, {tr:"ƒ∞nat√ßƒ±", en:"stubborn"}, {tr:"Yaratƒ±cƒ±", en:"creative"},
        {tr:"Bencil", en:"selfish"}, {tr:"Macera", en:"adventure"}, {tr:"Korku", en:"horror"},
        {tr:"Zeki", en:"intelligent"}, {tr:"Cesur", en:"brave"}, {tr:"Sakin", en:"calm"},
        {tr:"Fakir", en:"poor"}, {tr:"Zengin", en:"rich"}, {tr:"Gen√ß", en:"young"},
        {tr:"Ya≈ülƒ±", en:"old"}, {tr:"Hƒ±zlƒ±", en:"fast"}, {tr:"Yava≈ü", en:"slow"},
        {tr:"G√ºzel", en:"beautiful"}, {tr:"√áirkin", en:"ugly"}, {tr:"B√ºy√ºk", en:"big"},
        {tr:"K√º√ß√ºk", en:"small"}, {tr:"Mutlu", en:"happy"}, {tr:"√úzg√ºn", en:"sad"},
        {tr:"Yorgun", en:"tired"}, {tr:"A√ß", en:"hungry"}, {tr:"Susamƒ±≈ü", en:"thirsty"},
        {tr:"Sƒ±cak", en:"hot"}, {tr:"Soƒüuk", en:"cold"}, {tr:"Yeni", en:"new"},
        {tr:"Eski", en:"old"}, {tr:"Doƒüru", en:"true"}, {tr:"Yanlƒ±≈ü", en:"false"},
        {tr:"Zor", en:"difficult"}, {tr:"Kolay", en:"easy"}, {tr:"Pahalƒ±", en:"expensive"},
        {tr:"Ucuz", en:"cheap"}, {tr:"Tehlikeli", en:"dangerous"}, {tr:"G√ºvenli", en:"safe"},
        {tr:"√ñnemli", en:"important"}, {tr:"Sƒ±kƒ±cƒ±", en:"boring"}, {tr:"Komik", en:"funny"},
        {tr:"C√∂mert", en:"generous"}, {tr:"Cimri", en:"stingy"}, {tr:"Dakik", en:"punctual"},
        {tr:"Konu≈ükan", en:"talkative"}, {tr:"Sessiz", en:"quiet"}, {tr:"√áalƒ±≈ükan", en:"hardworking"},
        {tr:"Tembel", en:"lazy"}, {tr:"Sabƒ±rlƒ±", en:"patient"}, {tr:"Sabƒ±rsƒ±z", en:"impatient"},
        {tr:"Unutkan", en:"forgetful"}, {tr:"Dikkatli", en:"careful"}, {tr:"Dikkatsiz", en:"careless"},
        {tr:"M√ºtevazƒ±", en:"humble"}, {tr:"Kibirli", en:"arrogant"}, {tr:"Kƒ±skan√ß", en:"jealous"},
        {tr:"Meraklƒ±", en:"curious"}, {tr:"Yetenekli", en:"talented"}, {tr:"G√º√ßl√º", en:"strong"},
        {tr:"Zayƒ±f", en:"weak"}, {tr:"Saƒülƒ±klƒ±", en:"healthy"}, {tr:"Hasta", en:"sick"},
        {tr:"Temiz", en:"clean"}, {tr:"Kirli", en:"dirty"}, {tr:"Geni≈ü", en:"wide"},
        {tr:"Dar", en:"narrow"}, {tr:"Derin", en:"deep"}, {tr:"Sƒ±ƒü", en:"shallow"},
        {tr:"Y√ºksek", en:"high"}, {tr:"Al√ßak", en:"low"}, {tr:"Parlak", en:"bright"},
        {tr:"Karanlƒ±k", en:"dark"}, {tr:"Aƒüƒ±r", en:"heavy"}, {tr:"Hafif", en:"light"},
        {tr:"Yumu≈üak", en:"soft"}, {tr:"Sert", en:"hard"}, {tr:"Islak", en:"wet"},
        {tr:"Kuru", en:"dry"}, {tr:"Lezzetli", en:"delicious"}, {tr:"Berbat", en:"terrible"},
        {tr:"Korkmu≈ü", en:"scared"}, {tr:"≈ûa≈üƒ±rmƒ±≈ü", en:"surprised"}, {tr:"Endi≈üeli", en:"worried"},
        {tr:"Heyecanlƒ±", en:"excited"}, {tr:"Gururlu", en:"proud"}, {tr:"Yalnƒ±z", en:"alone"},
        {tr:"Birlikte", en:"together"}, {tr:"Ba≈üarƒ±lƒ±", en:"successful"}, {tr:"Ba≈üarƒ±sƒ±z", en:"unsuccessful"},
        {tr:"Nazik", en:"kind"}, {tr:"Kaba", en:"rude"}, {tr:"Zarif", en:"elegant"}, {tr:"Harika", en:"wonderful"}
    ];

    const bravoMsgs = ["ADAMSIN!", "U√áUYORSUN!", "HIZLI!", "MUHTE≈ûEM!", "RAKƒ∞PSƒ∞Z!", "ALEV ALDIN! üî•"];
    const failMsgs = ["Cƒ∞DDƒ∞ Mƒ∞Sƒ∞N?", "KLAVYEYE Mƒ∞ OTURDUN?", "BU MUYDU?", "≈ûAKA Gƒ∞Bƒ∞...", "DAHA HIZLI!"];

    let currentPool = [], score = 0, timeLeft = 30, gameActive = false, timer, currentWord = {};

    function start() {
        score = 0; timeLeft = 30; gameActive = true;
        currentPool = [...wordList].sort(() => Math.random() - 0.5);
        document.getElementById('score').innerText = score;
        document.getElementById('main-btn').innerText = "G√ñNDER! üí•";
        document.getElementById('name-modal').style.display = 'none';
        document.getElementById('leader-modal').style.display = 'none';
        next(); runTimer();
    }

    function runTimer() {
        clearInterval(timer);
        timer = setInterval(() => { timeLeft--; document.getElementById('timer').innerText = timeLeft; if(timeLeft <= 0) end(); }, 1000);
    }

    function showReaction(type) {
        const box = document.getElementById('reaction-box');
        box.innerText = (type === 'success' ? bravoMsgs : failMsgs)[Math.floor(Math.random() * 5)];
        box.className = type + '-msg';
        setTimeout(() => { if(box.innerText) box.innerText = ""; }, 2000);
    }

    function next() {
        if (currentPool.length === 0) { end(); return; }
        currentWord = currentPool.pop();
        document.getElementById('word-box').innerText = currentWord.tr.toUpperCase();
        document.getElementById('ans').value = ""; document.getElementById('ans').focus();
    }

    function check() {
        if(!gameActive) { start(); return; }
        const val = document.getElementById('ans').value.toLowerCase().trim();
        if(val === currentWord.en) {
            score += 50; timeLeft += 3;
            document.getElementById('score').innerText = score;
            showReaction('success');
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
            next();
        } else {
            const x = document.getElementById('ghost-x');
            x.classList.remove('ghost-animate'); void x.offsetWidth; x.classList.add('ghost-animate');
            showReaction('fail');
            document.getElementById('ans').value = "";
        }
    }

    function end() {
        gameActive = false; clearInterval(timer);
        document.getElementById('final-score').innerText = score;
        let msg = score < 200 ? "Geli≈ütir kendini!" : score < 500 ? "Hadi hadi idare edersin" : score < 1000 ? "Anladƒ±k en iyi sensin" : "Dostum √ß√∂zd√ºn sen bu i≈üi! üî•";
        document.getElementById('rank-msg').innerText = msg;
        document.getElementById('name-modal').style.display = 'flex';
    }

    function save() {
        const name = document.getElementById('player-name').value || "Anonim";
        let scs = JSON.parse(localStorage.getItem('okul_final_protected')) || [];
        scs.push({n: name, s: score});
        scs.sort((a,b) => b.s - a.s);
        localStorage.setItem('okul_final_protected', JSON.stringify(scs.slice(0, 100)));
        document.getElementById('name-modal').style.display = 'none';
        showLeaders();
    }

    function showLeaders() {
        const list = document.getElementById('leader-list');
        const scs = JSON.parse(localStorage.getItem('okul_final_protected')) || [];
        list.innerHTML = scs.map((sc, i) => `
            <div class="score-row">
                <span>${i+1}. ${sc.n}</span>
                <span style="color:var(--primary); font-weight:bold;">${sc.s}</span>
            </div>
        `).join('') || "<p>Hen√ºz kayƒ±t yok.</p>";
        document.getElementById('leader-modal').style.display = 'flex';
    }

    function restart() { start(); }
    document.getElementById('ans').addEventListener('keypress', e => e.key === 'Enter' && check());
</script>
</body>
</html>
